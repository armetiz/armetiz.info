<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Armetiz &#187; Service</title>
	<atom:link href="http://www.armetiz.info/tag/service/feed/" rel="self" type="application/rss+xml" />
	<link>http://www.armetiz.info</link>
	<description>Thomas Tourlourat - Ing√©nieur Informatique, CEO @Wozbe.com</description>
	<lastBuildDate>Mon, 01 Dec 2014 09:47:14 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=4.2.2</generator>
	<item>
		<title>Journal de navigation &#8211; Cloudy</title>
		<link>http://www.armetiz.info/journal-navigation-avion/</link>
		<comments>http://www.armetiz.info/journal-navigation-avion/#comments</comments>
		<pubDate>Mon, 06 Jun 2011 16:43:36 +0000</pubDate>
		<dc:creator><![CDATA[admin]]></dc:creator>
				<category><![CDATA[A√©ronautique]]></category>
		<category><![CDATA[Avion]]></category>
		<category><![CDATA[Carnet]]></category>
		<category><![CDATA[FCL]]></category>
		<category><![CDATA[Gratuit]]></category>
		<category><![CDATA[Journalisation]]></category>
		<category><![CDATA[Log]]></category>
		<category><![CDATA[Navigation]]></category>
		<category><![CDATA[Payant]]></category>
		<category><![CDATA[Service]]></category>
		<category><![CDATA[Souvenir]]></category>

		<guid isPermaLink="false">http://www.armetiz.info/?p=2024</guid>
		<description><![CDATA[Cloudy est un carnet de vol en ligne. Entreprise enti√®rement Fran√ßaise qui propose un service pour les pilotes fait par des pilotes. Actuellement, il est possible de cr√©er des carnets.. <a href="http://www.armetiz.info/journal-navigation-avion/" class="readmore">read more</a>]]></description>
				<content:encoded><![CDATA[<p><a href="http://www.cloudy.fr"><img class="alignright" src="http://www.armetiz.info/files/2011/06/logo1.png" alt="cloudy" width="178" height="74" /></a><a href="http://www.cloudy.fr">Cloudy</a> est un carnet de vol en ligne.<br />
Entreprise enti√®rement Fran√ßaise qui propose un service pour les pilotes fait par des pilotes.</p>
<p>Actuellement, il est possible de cr√©er des carnets DGAC pour <strong>Avion</strong>, <strong>Planeur</strong> et <strong>H√©licopt√®re</strong>.<br />
<strong>FCL 1.080</strong>, <strong>FFPLUM ULM</strong>, DGAC Ballon et Parachute sont pr√©vus pour fin Juillet </p>
<p>Avec les <strong>statistiques</strong> qu&#8217;il est possible de faire √† partir de l&#8217;ensemble des donn√©es collect√©es. Le syst√®me √©lectronique prends tout son sens.<br />
Actuellement, Cloudy est en plein d√©veloppement mais ce qu&#8217;ils envisagent de faire semble prometteur.</p>
<p>Une version <a href="https://cloudy.fr/mobile/">iPhone</a> existe d√©j√†,<br />
Personnellement, j&#8217;attends avec h√¢te la version <strong>Android</strong> ainsi que le support du <strong>FCL 1.080</strong> qui doit venir prochainement.</p>
<p>Une version gratuite limit√©e existe, et une version compl√©te payante est disponible pour <strong>35‚Ç¨/an</strong>. </p>
<p>Copyright: <a href="http://wallbase.cc/wallpaper/45476">Thumbnail</a></p>
]]></content:encoded>
			<wfw:commentRss>http://www.armetiz.info/journal-navigation-avion/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>AMF / Zend Authentication using Database</title>
		<link>http://www.armetiz.info/zend-authentication-database/</link>
		<comments>http://www.armetiz.info/zend-authentication-database/#comments</comments>
		<pubDate>Tue, 19 Oct 2010 08:16:06 +0000</pubDate>
		<dc:creator><![CDATA[admin]]></dc:creator>
				<category><![CDATA[Flash]]></category>
		<category><![CDATA[Flex]]></category>
		<category><![CDATA[Zend]]></category>
		<category><![CDATA[AMF]]></category>
		<category><![CDATA[Authentification]]></category>
		<category><![CDATA[Base de donn√©es]]></category>
		<category><![CDATA[S√©curit√©]]></category>
		<category><![CDATA[Serveur]]></category>
		<category><![CDATA[Service]]></category>

		<guid isPermaLink="false">http://www.armetiz.info/?p=1843</guid>
		<description><![CDATA[Cet article s&#8217;inscrit √† la suite du pr√©c√®dent billet : Authentification &#38; Autorisation avec Zend AMF. Zend_Amf_Adobe_Auth est une classe livr√© avec Zend 1.10. Elle peut √™tre utilis√©e comme service.. <a href="http://www.armetiz.info/zend-authentication-database/" class="readmore">read more</a>]]></description>
				<content:encoded><![CDATA[<p>Cet article s&#8217;inscrit √† la suite du pr√©c√®dent billet : <a href="http://www.armetiz.info/authentification-autorisation-zend-amf">Authentification &amp; Autorisation avec Zend AMF</a>.</p>
<p><strong>Zend_Amf_Adobe_Auth</strong> est une classe livr√© avec Zend 1.10. Elle peut √™tre utilis√©e comme service d&#8217;authentification pour un serveur <strong>Zend_Amf_Server</strong>. Le soucis, c&#8217;est que cette classe fonctionne conjointement avec un fichier XML r√©put√© statique.</p>
<p>Voici donc le code d&#8217;une classe qui permet l&#8217;authentification d&#8217;un utilisateur AMF via la base de donn√©es.<br />
Sachant que nous d√©veloppons cela pour offrir des services AMF, cette classe utilisera la logique m√©tier impl√©ment√©e au sein des services.</p>
<div class="codecolorer-container text blackboard" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;font: normal 12px/1.4em Monaco, Lucida Console, monospace;"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br />15<br />16<br />17<br />18<br />19<br />20<br />21<br />22<br />23<br />24<br />25<br />26<br />27<br />28<br />29<br />30<br />31<br />32<br />33<br />34<br />35<br />36<br />37<br />38<br />39<br />40<br />41<br />42<br />43<br />44<br />45<br />46<br />47<br />48<br />49<br /></div></td><td><div class="text codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap">class Auth_AmfDatabase extends Zend_Amf_Auth_Abstract<br />
{<br />
&nbsp; &nbsp; protected $_acl;<br />
&nbsp; &nbsp; protected $_users = array();<br />
<br />
&nbsp; &nbsp; public function __construct()<br />
&nbsp; &nbsp; {<br />
&nbsp; &nbsp; &nbsp; &nbsp; $this-&amp;gt;_acl = new Zend_Acl();<br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; $oServiceRole &nbsp; = new Service_Role ();<br />
&nbsp; &nbsp; &nbsp; &nbsp; $oRoles &nbsp; &nbsp; = $oServiceRole-&amp;gt;fetchAll ( );<br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; foreach ( $oRoles as $oRole )<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&amp;gt;_acl-&amp;gt;addRole ( new Zend_Acl_Role( $oRole-&amp;gt;title ) );<br />
&nbsp; &nbsp; }<br />
<br />
&nbsp; &nbsp; public function getAcl()<br />
&nbsp; &nbsp; {<br />
&nbsp; &nbsp; &nbsp; &nbsp; return $this-&amp;gt;_acl;<br />
&nbsp; &nbsp; }<br />
<br />
&nbsp; &nbsp; public function authenticate()<br />
&nbsp; &nbsp; {<br />
&nbsp; &nbsp; &nbsp; &nbsp; if (empty($this-&amp;gt;_username) ||<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; empty($this-&amp;gt;_password)) {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; require_once 'Zend/Auth/Adapter/Exception.php';<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throw new Zend_Auth_Adapter_Exception('Username/password should be set');<br />
&nbsp; &nbsp; &nbsp; &nbsp; }<br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; $oServiceUser &nbsp; = new Service_User ();<br />
&nbsp; &nbsp; &nbsp; &nbsp; $oUser&nbsp; &nbsp; &nbsp; = $oServiceUser-&amp;gt;authentication ( $this-&amp;gt;_username, $this-&amp;gt;_password );<br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; if ( null == $oUser )<br />
&nbsp; &nbsp; &nbsp; &nbsp; {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return new Zend_Auth_Result(Zend_Auth_Result::FAILURE,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; null,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array('Username and / or Password not found')<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );<br />
&nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp; &nbsp; &nbsp; &nbsp; else<br />
&nbsp; &nbsp; &nbsp; &nbsp; {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $id = new stdClass();<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $id-&amp;gt;role = $oUser-&amp;gt;role-&amp;gt;code;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $id-&amp;gt;name = $oUser-&amp;gt;username;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return new Zend_Auth_Result(Zend_Auth_Result::SUCCESS, $id);<br />
&nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp; &nbsp; }<br />
}</div></td></tr></tbody></table></div>
<p>Le <strong>constructeur</strong> r√©cup√®re l&#8217;ensemble des r√¥les existants en base de donn√©es pour peupler l&#8217;objet ACL.<br />
La m√©thode <strong>authenticate</strong> va v√©rifier le couple Login / Password, et en cas de succ√®s va retourner un objet <strong>Zend_Auth_Result</strong> contenant lui m√™me un objet standard.<br />
Cet objet standard doit avoir une propri√©t√© <strong>role</strong> et <strong>name</strong>, le <strong>r√¥le</strong> contiendra l&#8217;identifiant que vous avez d√©finit dans vos autorisations ACL. Le <strong>name</strong> devra contenir le login de votre utilisateur.</p>
<p>Cette classe a √©t√© inspir√©e par <strong>Zend_Amf_Adobe_Auth</strong>. N&#8217;h√©sitez pas √† l&#8217;adapter pour vos propres besoins.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.armetiz.info/zend-authentication-database/feed/</wfw:commentRss>
		<slash:comments>20</slash:comments>
		</item>
		<item>
		<title>Authentification et Autorisation avec Zend AMF</title>
		<link>http://www.armetiz.info/authentification-autorisation-zend-amf/</link>
		<comments>http://www.armetiz.info/authentification-autorisation-zend-amf/#comments</comments>
		<pubDate>Mon, 05 Jul 2010 08:23:10 +0000</pubDate>
		<dc:creator><![CDATA[admin]]></dc:creator>
				<category><![CDATA[Flash]]></category>
		<category><![CDATA[Zend]]></category>
		<category><![CDATA[AMF]]></category>
		<category><![CDATA[AS3]]></category>
		<category><![CDATA[CRUD]]></category>
		<category><![CDATA[Flex]]></category>
		<category><![CDATA[S√©curit√©]]></category>
		<category><![CDATA[Server]]></category>
		<category><![CDATA[Service]]></category>

		<guid isPermaLink="false">http://www.armetiz.info/?p=1786</guid>
		<description><![CDATA[Nous allons voir comment mettre en place l&#8217;authentification et l&#8217;autorisation lorsque l&#8217;on souhaite travailler avec Zend et le protocole AMF. Au niveau des pr√©-requit, vous devez avoir une architecture Zend.. <a href="http://www.armetiz.info/authentification-autorisation-zend-amf/" class="readmore">read more</a>]]></description>
				<content:encoded><![CDATA[<p>Nous allons voir comment mettre en place <strong>l&#8217;authentification</strong> et <strong>l&#8217;autorisation</strong> lorsque l&#8217;on souhaite travailler avec Zend et le protocole AMF.</p>
<p>Au niveau des pr√©-requit, vous devez avoir une architecture <strong>Zend et AMF op√©rationnelle</strong>.<br />
Aussi, je vous conseils de lire la documentation sur <a href="http://framework.zend.com/manual/fr/zend.auth.introduction.html">Zend_Auth</a> et <a href="http://framework.zend.com/manual/fr/zend.acl.introduction.html">Zend_Acl</a>.<br />
Vous devez avoir compris la notion de <strong>r√¥le</strong> et de <strong>ressource</strong>.</p>
<h3>Objectifs</h3>
<p>Si vous fournissez des services √† travers le r√©seau, et qu&#8217;ils peuvent avoir un impact sur la coh√©rence des donn√©es, vous vous devez de s√©curiser l&#8217;acc√®s √† ces services.</p>
<p>S√©curis√© l&#8217;acc√®s signifie restreinte l&#8217;acc√®s, mais aussi chiffrer les communications.<br />
Nous ne traiterons pas la partie chiffrement des √©changes, pour cela je vous laissez chercher de la documentation sur HTTPS.</p>
<h3>Point de d√©part</h3>
<p>Ci-dessous, un exemple de contr√¥leur Zend offrant des services AMF.</p>
<div class="codecolorer-container text blackboard" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;font: normal 12px/1.4em Monaco, Lucida Console, monospace;"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br />15<br />16<br />17<br />18<br />19<br />20<br />21<br />22<br />23<br />24<br />25<br />26<br />27<br />28<br /></div></td><td><div class="text codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap">class ServiceController extends Zend_Controller_Action<br />
{<br />
&nbsp; &nbsp; public function init()<br />
&nbsp; &nbsp; {<br />
&nbsp; &nbsp; &nbsp; &nbsp; $this-&amp;gt;_helper-&amp;gt;viewRenderer-&amp;gt;setNoRender();<br />
&nbsp; &nbsp; &nbsp; &nbsp; $this-&amp;gt;_helper-&amp;gt;layout-&amp;gt;disableLayout();<br />
&nbsp; &nbsp; }<br />
&nbsp; &nbsp; <br />
&nbsp; &nbsp; public function amfAction()<br />
&nbsp; &nbsp; {<br />
&nbsp; &nbsp; $server = new Zend_Amf_Server();<br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; //Liste des services<br />
&nbsp; &nbsp; $server-&amp;gt;setClass( &quot;Service_User&quot; );<br />
&nbsp; &nbsp; $server-&amp;gt;setClass( &quot;Service_Book&quot; );<br />
&nbsp; &nbsp; $server-&amp;gt;setClass( &quot;ZendAmfServiceBrowser&quot; );<br />
<br />
&nbsp; &nbsp; //Mapping des objets PHP avec les objets ActionScript &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; $server-&amp;gt;setClassMap('UserDTO', 'Model_DTO_User');<br />
&nbsp; &nbsp; $server-&amp;gt;setClassMap('BookDTO', 'Model_DTO_Book');<br />
&nbsp; &nbsp; <br />
&nbsp; &nbsp; $server-&amp;gt;setProduction(false);<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; ZendAmfServiceBrowser::$ZEND_AMF_SERVER = $server;<br />
<br />
&nbsp; &nbsp; echo ($server-&amp;gt;handle());<br />
&nbsp; &nbsp; }<br />
}</div></td></tr></tbody></table></div>
<p>Nous avons donc <u>deux services</u>, et <u>deux types d&#8217;objets</u> pouvant √™tre utilis√©s.</p>
<p>Vous remarquerez l&#8217;utilisation de <a href="http://www.zamfbrowser.org/">ZamfBrowser</a>, ce service coupl√© avec une application Adobe AIR permet de travailler facilement avec les services.</p>
<p>Voici √† quoi ressemble les prototypes d&#8217;un de mes services.</p>
<div class="codecolorer-container text blackboard" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;font: normal 12px/1.4em Monaco, Lucida Console, monospace;"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br /></div></td><td><div class="text codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap">class Service_Book<br />
{<br />
&nbsp; &nbsp; public function createBook (Model_DTO_Book $oBook) {}<br />
&nbsp; &nbsp; public function readBook (Model_DTO_Book $oBook) {}<br />
&nbsp; &nbsp; public function updateBook (Model_DTO_Book $oBook) {}<br />
&nbsp; &nbsp; public function deleteBook (Model_DTO_Book $oBook) {}<br />
&nbsp; &nbsp; public function isRentBy (Model_DTO_User $oUser) {}<br />
}</div></td></tr></tbody></table></div>
<blockquote><p>L&#8217;autre service est compos√© lui aussi des m√©thodes <strong>CRUD</strong> (Create, Read, Update, Delete), ainsi que d&#8217;autres fonctions m√©tiers.</p></blockquote>
<p>Sachant que mon application cliente Flash utilise ces services, il est tr√®s facile √† un utilisateur de d√©couvrir <strong>l&#8217;URI de la passerelle AMF</strong>.<br />
En l&#8217;√©tat, une personne ayant l&#8217;acc√®s √† ma passerelle AMF pourrai utiliser toutes les fonctions de mes services. Ce qui implique qu&#8217;il puisse modifier ma base de donn√©es.</p>
<p><em>Remarquer que si l&#8217;on supprime le service de ZamfBrowser, l&#8217;utilisateur n&#8217;aura pas acc√®s √† la liste exhaustive des services. Si vous √™tes en production, je vous conseils donc de supprimer ce service pour des raisons de s√©curit√©.</em></p>
<h3>Mise en place de l&#8217;authentification</h3>
<p>Nous allons commencer par mettre en place l&#8217;authentification,<br />
Sachant que nous utilisons un client Flash, il est logique d&#8217;utiliser <strong>Zend_Amf_Adobe_Auth</strong>.</p>
<div class="codecolorer-container text blackboard" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;font: normal 12px/1.4em Monaco, Lucida Console, monospace;"><div>1<br />2<br /></div></td><td><div class="text codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap">$authAdapter = new Zend_Amf_Adobe_Auth(APPLICATION_PATH . '/config/password.xml');<br />
$server-&amp;gt;setAuth($authAdapter );</div></td></tr></tbody></table></div>
<p>Avec ces deux lignes, nous avons mis en place l&#8217;authentification au niveau du serveur.<br />
Il vous reste √† d√©finir le fichier password.xml</p>
<div class="codecolorer-container text blackboard" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;font: normal 12px/1.4em Monaco, Lucida Console, monospace;"><div>1<br /></div></td><td><div class="text codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap">&nbsp;</div></td></tr></tbody></table></div>
<p>Le fichier password.xml contient les identifiants et les mots de passe des utilisateurs.<br />
C&#8217;est √† ce niveau que vous d√©finissez les affectations d&#8217;identifiants √† un r√¥le.</p>
<p>Si vous avez besoin de plus de souplesse au niveau de la gestion des identifiants, je vous conseils la lecture de <a href="http://framework.zend.com/manual/fr/zend.auth.adapter.dbtable.html">Authentification avec une table de base de donn√©es</a>.</p>
<p><em>Il est √† noter, que si vous ne sp√©cifier aucun identifiant lors de votre connexion au serveur AMF vous serez consid√©r√© comme un invit√© : <strong>Zend_Amf_Constants::GUEST_ROLE</strong></em></p>
<h3>Mise en place de l&#8217;autorisation</h3>
<p>Maintenant que nous avons correctement d√©finit l&#8217;authentification, passons √† l&#8217;autorisation.<br />
C&#8217;est maintenant que nous allons donner les autorisations ou refus d&#8217;acc√®s aux services.</p>
<div class="codecolorer-container text blackboard" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;font: normal 12px/1.4em Monaco, Lucida Console, monospace;"><div>1<br />2<br /></div></td><td><div class="text codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap">$acl = new Zend_Acl();<br />
$server-&amp;gt;setAcl($acl);</div></td></tr></tbody></table></div>
<p>Avec ces deux lignes, vous avez d√©finit une <strong>Acces Control List</strong>.<br />
Vous le constatez, aucune autorisation n&#8217;est d√©finit; mais il est important de noter que maintenant, <strong>plus personne n&#8217;a acc√®s √† vos services</strong>.</p>
<p>Pour donner l&#8217;acc√®s √† nos deux services √† n&#8217;importe qui, nous allons proc√©der comme suit :</p>
<div class="codecolorer-container text blackboard" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;font: normal 12px/1.4em Monaco, Lucida Console, monospace;"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br /></div></td><td><div class="text codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap">$acl = new Zend_Acl();<br />
$acl-&amp;gt;addResource ( new Zend_Acl_Resource('Service_User') );<br />
$acl-&amp;gt;addResource ( new Zend_Acl_Resource('Service_Book') );<br />
$acl-&amp;gt;addResource ( new Zend_Acl_Resource('ZendAmfServiceBrowser') );<br />
<br />
$acl-&amp;gt;allow (null, 'Service_User');<br />
$acl-&amp;gt;allow (null, 'Service_Book');<br />
$acl-&amp;gt;allow (null, 'ZendAmfServiceBrowser);<br />
$server-&amp;gt;setAcl($acl);</div></td></tr></tbody></table></div>
<p>Ci-dessus, nous avons une liste explicite des autorisations.<br />
Si nous avions voulu faire dans l&#8217;implicite, nous aurions proc√©d√© ainsi :</p>
<div class="codecolorer-container text blackboard" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;font: normal 12px/1.4em Monaco, Lucida Console, monospace;"><div>1<br />2<br />3<br /></div></td><td><div class="text codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap">$acl = new Zend_Acl();<br />
$acl-&amp;gt;allow ();<br />
$server-&amp;gt;setAcl($acl);</div></td></tr></tbody></table></div>
<p>Pour aller plus loin dans l&#8217;explication, nous allons maintenant d√©finir l&#8217;ensemble de nos autorisations.</p>
<blockquote><p>Nous souhaitons que le r√¥le administrateur est acc√®s √† tout, et nous souhaitons que les utilisateurs non authentifi√©s n&#8217;est pas acc√®s aux fonctions de mise √† jour.</p></blockquote>
<p>Rappelez-vous, nous avons vu plus haut que vous √©tiez connecter avec le r√¥le invit√© lorsque vous ne sp√©cifiez aucun identifiant.</p>
<div class="codecolorer-container text blackboard" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;font: normal 12px/1.4em Monaco, Lucida Console, monospace;"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br /></div></td><td><div class="text codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap">$acl = new Zend_Acl();<br />
<br />
//D√©finition les r√¥les.<br />
$acl-&amp;gt;addRole ( new Zend_Acl_Role(Zend_Amf_Constants::GUEST_ROLE) );<br />
<br />
//D√©finition des autorisations<br />
$acl-&amp;gt;allow ();<br />
$acl-&amp;gt;deny (Zend_Amf_Constants::GUEST_ROLE, null, &quot;create&quot;);<br />
$acl-&amp;gt;deny (Zend_Amf_Constants::GUEST_ROLE, null, &quot;update&quot;);<br />
$acl-&amp;gt;deny (Zend_Amf_Constants::GUEST_ROLE, null, &quot;delete&quot;);<br />
<br />
$server-&amp;gt;setAcl($acl);</div></td></tr></tbody></table></div>
<p><u>Premi√®rement,</u><br />
Nous avons d√ª d√©finir le r√¥le invit√© pour pouvoir travailler ses autorisations.</p>
<p><u>Deuxi√®mement,</u><br />
Nous avons utilis√© le principe des listes noires. Si nous avions utilisez un syst√®me de liste blanche, nous aurions du d√©finir l&#8217;ensemble des r√¥les, et l&#8217;ensemble des autorisations.<br />
C&#8217;est donc en partant du principe que tout le monde a acc√®s √† tout, que nous avons ferm√© les portes aux anonymes.</p>
<p><u><strong>Explication des fonctions Deny &amp; Allow :</strong></u><br />
<strong>Zend_Acl::deny</strong> et <strong>Zend_Acl::allow</strong> utilisent les m√™mes arguments.<br />
Le premier param√®tre correspond √† un r√¥le, cela ne change pas des ACL Zend classique.<br />
Le deuxi√®me param√®tre correspond √† une ressource. Avec Zend AMF, une ressource correspond √† un Service.<br />
Le troisi√®me param√®tre correspond ici √† la fonction d&#8217;un service AMF.</p>
<p>Nous avons utiliser <strong>null</strong> au niveau du deuxi√®me param√®tre pour dire : <strong>tout les services</strong>.</p>
<h3>initAcl</h3>
<p>Ce dernier paragraphe pour vous parlez de mon opposition face aux sp√©cifications de la documentation <a href="http://framework.zend.com/manual/1.10/en/zend.amf.server.html">Zend_AMF_Server</a> :</p>
<blockquote><p><em>If the ACL object is set, and the class being called defines initAcl() method, this method will be called with the ACL object as an argument. The class then can create additional ACL rules and return TRUE, or return FALSE if no access control is required for this class.</em></p></blockquote>
<p>En gros, il existe une autre mani√®re de d√©finir les autorisations,<br />
Si vous avez d√©finit un ACL au niveau de votre Serveur AMF. Ce dernier v√©rifiera l&#8217;existence d&#8217;une fonction <strong>initAcl</strong> sur les services lorsqu&#8217;ils seront appel√©s.</p>
<p>Cette fonction est ce que l&#8217;on appel un <a href="http://fr.wikipedia.org/wiki/Hook_%28informatique%29">Hook</a>, et vous permets de d√©finir les autorisations et refus au sein de la d√©finition m√™me de vos services.<br />
Autant vous dire que <strong>niveau maintenance et centralisation de l&#8217;information c&#8217;est tr√®s moyen</strong>..<br />
De plus, si l&#8217;on pend l&#8217;exemple de <strong>ZendAmfServiceBrowser</strong>, vous allez devoir modifier la d√©finition de ce service, et cela √† chaque fois qu&#8217;il y aura une nouvelle version ?</p>
<p>Voici un exemple de fonctionnement</p>
<div class="codecolorer-container text blackboard" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;font: normal 12px/1.4em Monaco, Lucida Console, monospace;"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br /></div></td><td><div class="text codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap">class Service_Book<br />
{<br />
&nbsp; &nbsp; public function initAcl ($acl)<br />
&nbsp; &nbsp; {<br />
&nbsp; &nbsp; &nbsp; &nbsp; $acl-&amp;gt;deny('editor', 'Services_Book', 'create');<br />
&nbsp; &nbsp; &nbsp; &nbsp; $acl-&amp;gt;deny('editor', 'Services_Book', 'update');<br />
&nbsp; &nbsp; &nbsp; &nbsp; $acl-&amp;gt;deny('editor', 'Services_Book', 'delete');<br />
&nbsp; &nbsp; &nbsp; &nbsp; return true;<br />
&nbsp; &nbsp; }<br />
}</div></td></tr></tbody></table></div>
<p><strong>Pour aller plus loin</strong> : Vous trouverez un article d√©di√© √† l&#8217;authentification pour Zend AMF Server avec une base de donn√©es : <a href="http://www.armetiz.info/zend-authentication-database/">AMF / Zend Authentication using Database</a></p>
]]></content:encoded>
			<wfw:commentRss>http://www.armetiz.info/authentification-autorisation-zend-amf/feed/</wfw:commentRss>
		<slash:comments>22</slash:comments>
		</item>
		<item>
		<title>OpenDNS : Une alternative aux DNS de vos FAI.</title>
		<link>http://www.armetiz.info/alternative-fai-dns-opendns/</link>
		<comments>http://www.armetiz.info/alternative-fai-dns-opendns/#comments</comments>
		<pubDate>Mon, 24 Nov 2008 13:27:38 +0000</pubDate>
		<dc:creator><![CDATA[admin]]></dc:creator>
				<category><![CDATA[Web]]></category>
		<category><![CDATA[Alternative]]></category>
		<category><![CDATA[DNS]]></category>
		<category><![CDATA[Navigation]]></category>
		<category><![CDATA[Service]]></category>

		<guid isPermaLink="false">http://www.armetiz.info/?p=540</guid>
		<description><![CDATA[Les Antilles ont r√©cemment vus leurs acc√®s aux services Google impossible, il y avait en effet un probl√®me de DNS qui emp√™chait la r√©solution de nom. Cette incident √† du.. <a href="http://www.armetiz.info/alternative-fai-dns-opendns/" class="readmore">read more</a>]]></description>
				<content:encoded><![CDATA[<p>Les Antilles ont r√©cemment vus leurs acc√®s aux services <a href="http://www.zorgloob.com/2008/11/google-inaccessible-aux-antilles.asp">Google impossible</a>, il y avait en effet un probl√®me de DNS qui emp√™chait la r√©solution de nom.</p>
<p>Cette incident √† du faire ouvrir les yeux des utilisateurs utilisant Gmail, Gdocs, Google, GMaps √† outrance et qui se sont vu d√©pourvus de leurs informations.<br />
Voici une des raisons de ne pas mettre tout ces ≈ìufs dans le m√™me panier&#8230; Qui nous am√®ne au <a href="http://forums.digitalpoint.com/showthread.php?t=397187">10 raisons de boycotter de Google</a>.</p>
<p>Toujours est-il, l&#8217;article de <a href="http://www.zorgloob.com/2008/11/google-inaccessible-aux-antilles.asp">Zorgloob</a> m&#8217;a fait connaitre un service que je ne connaissais pas : <a href="http://www.opendns.com/">OpenDNS</a>.</p>
<h3>Pr√©sentation de OpenDNS</h3>
<p>Alors que le nom ressemble √† OpenVPN, il ne s&#8217;agit pas d&#8217;un &#8220;logiciel&#8221;, mais d&#8217;un service mit √† disposition du tout Internet pour acc√©der √† des serveurs DNS autres que ceux de vos FAI utilis√©s dans 90% des cas.</p>
<p><a href="http://www.opendns.com/"><img alt="" src="http://images.opendns.com/buttons/use_opendns_155x52.gif" class="alignright" width="155" height="52" /></a>Quel est l&#8217;int√©r√™t d&#8217;utiliser d&#8217;autres serveurs DNS que ceux de vos FAI lorsque l&#8217;on est un particulier ? A vrai dire, peu d&#8217;int√©r√™t si ce n&#8217;est une petite geekerie en soit. Monter son propre serveur DNS √©tant <strong>la</strong> vrai geekerie <img src="http://s.w.org/images/core/emoji/72x72/1f609.png" alt="üòâ" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p>Voici les services propos√©s par OpenDNS &#8211; en plus de vous fournir les bonnes adresses IP &#8211; sont :</p>
<ul>
<li>Rapidit√© d&#8217;ex√©cution</li>
<li>Filtre : Anti-phising</li>
<li>Statistique</li>
</ul>
<p>Concernant la <u>rapidit√© d&#8217;ex√©cution</u>, c&#8217;est en cours d&#8217;√©valuation √† la maison&#8230; Mais, entre 5ms et 3ms, l&#8217;√©cart ne semble pas important.</p>
<p>Par contre, les <u>filtres</u> mis √† disposition peuvent s&#8217;av√©rer tr√®s int√©ressant, vous pouvez en effet interdire la r√©solution de nom lorsqu&#8217;il s&#8217;agit de site &#8220;pornographique, de jeu, de drogue ou d&#8217;alcool&#8230;&#8221;. Le seul hic, c&#8217;est qu&#8217;une fois le filtre mis en place, il s&#8217;applique √† l&#8217;ensemble du foyer familiale, fini les sites pornos lorsque votre douce est couch√©e&#8230; :p</p>
<p>La partie <u>statistique</u> m&#8217;est pour l&#8217;instant inaccessible, nous en serons donc plus un peu plus tard.</p>
<p>Vous pouvez aussi utiliser des <u>raccourcis</u>, et faire correspondre &#8220;information&#8221; avec &#8220;armetiz.info&#8221;, mais cette astuce est un peu inutile avec la gestion des bookmark des nouveaux navigateurs.<br />
Par contre, cela aurai pu √™tre int√©ressant de pouvoir ajouter des entr√©es pour faire correspondre un nom avec un IP local, mais il n&#8217;est possible de faire des liens uniquement avec des adresses du type &#8220;http://&#8221;.</p>
<h3>Pour conclure</h3>
<p>OpenDNS est un service qu&#8217;il est int√©ressant de connaitre : si vous √™tes une petite entreprise qui ne veux pas s&#8217;emb√™ter avec la configuration d&#8217;un serveur en interne tout en emp√™chant l&#8217;acc√®s √† certains sites; ou alors si les serveurs DNS de vos FAI sont d√©faillant&#8230; Chose assez rare, mais possible &#8211; cf les Antillais&#8230;</p>
<p>Dans ce cas, il peut √™tre bon de mettre en IP principal le serveur DNS num√©ro un de votre FAI, et en deuxi√®me adresse celle de OpenDNS, cela permet de faire un croisement de service.</p>
<p>Voici les deux IP :</p>
<ul>
<li>208.67.222.222</li>
<li>208.67.220.220</li>
</ul>
<p>Accessible sans inscription si vous ne souhaitez pas disposer des services ci-dessus.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.armetiz.info/alternative-fai-dns-opendns/feed/</wfw:commentRss>
		<slash:comments>1</slash:comments>
		</item>
	</channel>
</rss>

<!-- Performance optimized by W3 Total Cache. Learn more: http://www.w3-edge.com/wordpress-plugins/

Page Caching using apc
Database Caching 6/11 queries in 0.026 seconds using apc
Object Caching 854/855 objects using apc

 Served from: www.armetiz.info @ 2015-07-01 11:15:02 by W3 Total Cache -->
