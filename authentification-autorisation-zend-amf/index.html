<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">


<!-- Mirrored from www.armetiz.info/authentification-autorisation-zend-amf/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 01 Jul 2015 09:09:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head profile="http://gmpg.org/xfn/11">
	
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	
	
	<title>Authentification et Autorisation avec Zend AMF | Armetiz</title>
	
	<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
	
		
	
	<link rel="stylesheet" href="../wp-content/themes/elogix/style.css" type="text/css" />
	<link rel="stylesheet" href="../wp-content/themes/elogix/framework/css/responsive.css" type="text/css" />
	
	<link rel="pingback" href="../xmlrpc.php" />

	
<!-- All in One SEO Pack 2.2.6.2 by Michael Torbert of Semper Fi Web Design[291,361] -->
<meta name="description"  content="Nous allons voir comment mettre en place l'authentification et l'autorisation lorsque l'on souhaite travailler avec Zend et le protocole AMF. Au niveau des" />

<meta name="keywords"  content="amf,as3,crud,flex,sécurité,server,service,zend,flash" />

<link rel="canonical" href="" />
<!-- /all in one seo pack -->
<link rel="alternate" type="application/rss+xml" title="Armetiz &raquo; Feed" href="../feed/" />
<link rel="alternate" type="application/rss+xml" title="Armetiz &raquo; Comments Feed" href="../comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Armetiz &raquo; Authentification et Autorisation avec Zend AMF Comments Feed" href="feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/www.armetiz.info\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.2.2"}};
			!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='codecolorer-css'  href='../wp-content/plugins/codecolorer/codecolorere2dc.css?ver=0.9.9' type='text/css' media='screen' />
<script type='text/javascript' src='../wp-content/themes/elogix/framework/js/jquery97e1.js?ver=1.7'></script>
<script type='text/javascript' src='../wp-content/themes/elogix/framework/js/jquery.flexslider5152.js?ver=1.0'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var staticrandomposts = {"SRP_Loading":"Loading...","SRP_Refresh":"Refresh...","SRP_AjaxUrl":"http:\/\/www.armetiz.info\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-content/plugins/static-random-posts-widget/js/static-random-posts68b3.js?ver=1'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Mise en production de Zend Framework sur un serveur mutualisé' href='../mise-production-zend-framework-serveur-mutualise/' />
<link rel='next' title='Installer FMS 4 sur Debian 5.0' href='../installer-fms-4-sur-debian-5-0/' />
<meta name="generator" content="WordPress 4.2.2" />
<link rel='shortlink' href='../index6c4e.html?p=1786' />
<script src='http://hosting.armetiz.info/?dm=9ce8d0fb011e1e4ec643ac563c43caf5&amp;action=load&amp;blogid=6&amp;siteid=1&amp;t=716936341&amp;back=http%3A%2F%2Fwww.armetiz.info%2Fauthentification-autorisation-zend-amf%2F' type='text/javascript'></script>	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
	
	<style>
	
	
#logo{margin-top:45px!important}

a:hover, .post-entry h2 a:hover{color:#80B600}

#contactform #submit:hover{background-color:#80B600}

::-moz-selection{background-color:#80B600}
.::selection{background-color:#80B600}

.color-hr{background:#80B600}

#infobar{background:#80B600}

#infobar .openbtn{background-color:#80B600}

#infobar2{background-color:#80B600}

#nav ul li a:hover{color:#80B600; border-color:#80B600}

#nav ul li.current-menu-item a, 
#nav ul li.current-page-ancestor a, 
#nav ul li.current-menu-ancestor a{border-color:#80B600; background-color:#80B600; color:#80B600}

#nav ul li.current-menu-item ul li a:hover, 
#nav ul li.current-page-ancestor ul li a:hover, 
#nav ul li.current-menu-ancestor ul li a:hover{color:#80B600!important}

#nav ul.sub-menu{border-color:#80B600}

#latestposts .entry a.readmore{color:#80B600}

#latestwork .entry:hover{border-color:#80B600}
#latestwork .entry:hover h4 a{color:#80B600}

#latestwork .entry:hover img{border-color:#80B600}

a.work-carousel-prev:hover{background-color:#80B600}

a.work-carousel-next:hover{background-color:#80B600}

.post-thumb a:hover{border-color:#80B600}

.big-post-thumb img{border-color:#80B600}

.post-entry a.readmore{color:#80B600}
.post-entry a.readmore:hover{background-color:#80B600}

.meta a:hover{color:#80B600}

.navigation a:hover{color:#80B600}

a#cancel-comment-reply-link{color:#80B600}

#commentform #submit:hover{background-color:#80B600}
.posts-prev a:hover, .posts-next a:hover{background-color:#80B600}

#filters li a:hover{color:#80B600}

.work-item:hover{background-color:#fff; border-color:#80B600}
.work-item:hover h3 a{color:#80B600}

.work-item:hover img{border-color:#80B600}

#sidebar .widget_nav_menu li.current-menu-item a{color:#80B600!important}

#sidebar a:hover{color:#80B600}

#breadcrumb a:hover{color:#80B600}

#lasttweet{background-color:#80B600}

.plan.featured{border-color:#80B600}
.pricing-table .plan.featured:last-child{border-color:#80B600}

.plan.featured h3{background-color:#80B600}

.plan.featured .price{background-color:#80B600}

.toggle .title:hover{color:#80B600}
.toggle .title.active{color:#80B600}

ul.tabNavigation li a.active{ color:#80B600;  border-bottom:1px solid #fff;  border-top:1px solid #80B600}

ul.tabNavigation li a:hover{color:#80B600}

.button{ background-color:#80B600}

#home-slider .flex-control-nav li a:hover{background:#80B600}
#home-slider .flex-control-nav li a.active{background:#80B600}

.accordion .title.active a{color:#80B600!important}

#latestposts .entry a.readmore:hover{background-color:#80B600}

.post-entry h2 a:hover, .search-result h2 a:hover, .work-detail-description a:hover{color:#80B600}

.entry a {
  color: #80B600;
}
@media only screen and (max-width: 767px) {
	#header{
		border-top:6px solid #80B600;
	}
}

	
	</style>
    
</head>

<body class="single single-post postid-1786 single-format-standard">
	
			
			
		
							    
			    		<div id="background" style="background-image:url(http://hosting.armetiz.info/armetiz/files/2012/07/bg1-300x23711.png); background-position: top left; background-repeat: repeat;"></div>
			    
			      
		
	 
	
	<div id="wrap">
		
					<div id="infobar" class="showit">
				<a href="http://www.tourlourat.com/cv/francais.html">CV Ingénieur Informatique</a> - <a href="http://www.tourlourat.com/cv/english.html">IT Engineer Resume</a>				<div class="openbtn cursor">Open</div>
				<div class="closebtn">X</div>
			</div>
		
		<div id="header" class="clearfix">

			<div id="logo"><a href="../">
				            		Armetiz            				</a></div>
			
			<div id="slogan">Thomas Tourlourat &#8211; Ingénieur Informatique, CEO @Wozbe.com			</div>
			
			<div id="social" class="clearfix">
				<ul>
											<li class="twitter"><a href="http://twitter.com/armetiz" target="_blank" title="Twitter">
							Twitter	
						</a></li>
																<li class="facebook"><a href="https://www.facebook.com/thomastourlourat" target="_blank" title="Facebook">
							Facebook						</a></li>
																																									<li class="linkedin"><a href="http://fr.linkedin.com/in/tourlourat" target="_blank" title="LinkedIn">
							LinkedIn						</a></li>
														</ul>
			</div>
			
		</div>
		
		<div id="nav" class="clearfix">
			<div class="menu-default-container"><ul id="menu-default" class="menu"><li id="menu-item-2573" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-2573"><a title="Accueil" href="../">Accueil</a></li>
<li id="menu-item-3204" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-3204"><a>Thèmes</a>
<ul class="sub-menu">
	<li id="menu-item-2575" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2575"><a href="../category/systeme/">Système</a></li>
	<li id="menu-item-3207" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor menu-item-3207"><a href="../category/programmation/">Programmation</a></li>
	<li id="menu-item-2574" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2574"><a href="../category/livres/">Livres</a></li>
	<li id="menu-item-3205" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3205"><a href="../category/aeronautique-2/">Aéronautique</a></li>
</ul>
</li>
<li id="menu-item-2577" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2577"><a href="http://www.turnaway.fr/">Infogérance</a></li>
<li id="menu-item-3529" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3529"><a href="http://anowis-formations.com/">Formations</a></li>
<li id="menu-item-3355" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-3355"><a href="http://wozbe.com/">Prestations</a>
<ul class="sub-menu">
	<li id="menu-item-3357" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3357"><a href="http://wozbe.com/fr/skills">Développement</a></li>
	<li id="menu-item-3358" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3358"><a href="http://wozbe.com/fr/skills">Infrastructure</a></li>
	<li id="menu-item-3359" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3359"><a href="http://wozbe.com/fr/skills">Architecture &#038; DevOps</a></li>
	<li id="menu-item-3356" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3356"><a href="http://wozbe.com/fr/references">Réferences</a></li>
</ul>
</li>
<li id="menu-item-2572" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2572"><a title="CV Ingénieur Informatique" href="http://www.tourlourat.com/cv/francais.html">CV</a></li>
<li id="menu-item-2677" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2677"><a title="Contact" href="../contact/">Contact</a></li>
</ul></div>			<div class="clear"></div>
		</div>


<div id="page" class="border-top clearfix">

	<div class="color-hr2"></div>
	
	<div id="content-part">

	
		<div class="single-post post-1786 post type-post status-publish format-standard hentry category-liens-flash category-zend-framework tag-amf tag-as3 tag-crud tag-flex tag-securite tag-server tag-service tag-zend-framework" id="post-1786">
		
					
			<h2 class="top-margin">Authentification et Autorisation avec Zend AMF</h2>
			
			<div class="meta">
					Posted on <strong>05/07/2010</strong> · Posted in <a href="../category/programmation/liens-flash/" rel="category tag">Flash</a>, <a href="../category/framework/zend-framework/" rel="category tag">Zend</a>			</div>
			
			<div class="entry">
				
				<p>Nous allons voir comment mettre en place <strong>l&#8217;authentification</strong> et <strong>l&#8217;autorisation</strong> lorsque l&#8217;on souhaite travailler avec Zend et le protocole AMF.</p>
<p>Au niveau des pré-requit, vous devez avoir une architecture <strong>Zend et AMF opérationnelle</strong>.<br />
Aussi, je vous conseils de lire la documentation sur <a href="http://framework.zend.com/manual/fr/zend.auth.introduction.html">Zend_Auth</a> et <a href="http://framework.zend.com/manual/fr/zend.acl.introduction.html">Zend_Acl</a>.<br />
Vous devez avoir compris la notion de <strong>rôle</strong> et de <strong>ressource</strong>.</p>
<h3>Objectifs</h3>
<p>Si vous fournissez des services à travers le réseau, et qu&#8217;ils peuvent avoir un impact sur la cohérence des données, vous vous devez de sécuriser l&#8217;accès à ces services.</p>
<p>Sécurisé l&#8217;accès signifie restreinte l&#8217;accès, mais aussi chiffrer les communications.<br />
Nous ne traiterons pas la partie chiffrement des échanges, pour cela je vous laissez chercher de la documentation sur HTTPS.</p>
<h3>Point de départ</h3>
<p>Ci-dessous, un exemple de contrôleur Zend offrant des services AMF.</p>
<div class="codecolorer-container text blackboard" style="overflow:auto;white-space:nowrap;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br />15<br />16<br />17<br />18<br />19<br />20<br />21<br />22<br />23<br />24<br />25<br />26<br />27<br />28<br /></div></td><td><div class="text codecolorer">class ServiceController extends Zend_Controller_Action<br />
{<br />
&nbsp; &nbsp; public function init()<br />
&nbsp; &nbsp; {<br />
&nbsp; &nbsp; &nbsp; &nbsp; $this-&amp;gt;_helper-&amp;gt;viewRenderer-&amp;gt;setNoRender();<br />
&nbsp; &nbsp; &nbsp; &nbsp; $this-&amp;gt;_helper-&amp;gt;layout-&amp;gt;disableLayout();<br />
&nbsp; &nbsp; }<br />
&nbsp; &nbsp; <br />
&nbsp; &nbsp; public function amfAction()<br />
&nbsp; &nbsp; {<br />
&nbsp; &nbsp; $server = new Zend_Amf_Server();<br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; //Liste des services<br />
&nbsp; &nbsp; $server-&amp;gt;setClass( &quot;Service_User&quot; );<br />
&nbsp; &nbsp; $server-&amp;gt;setClass( &quot;Service_Book&quot; );<br />
&nbsp; &nbsp; $server-&amp;gt;setClass( &quot;ZendAmfServiceBrowser&quot; );<br />
<br />
&nbsp; &nbsp; //Mapping des objets PHP avec les objets ActionScript &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; $server-&amp;gt;setClassMap('UserDTO', 'Model_DTO_User');<br />
&nbsp; &nbsp; $server-&amp;gt;setClassMap('BookDTO', 'Model_DTO_Book');<br />
&nbsp; &nbsp; <br />
&nbsp; &nbsp; $server-&amp;gt;setProduction(false);<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; ZendAmfServiceBrowser::$ZEND_AMF_SERVER = $server;<br />
<br />
&nbsp; &nbsp; echo ($server-&amp;gt;handle());<br />
&nbsp; &nbsp; }<br />
}</div></td></tr></tbody></table></div>
<p>Nous avons donc <u>deux services</u>, et <u>deux types d&#8217;objets</u> pouvant être utilisés.</p>
<p>Vous remarquerez l&#8217;utilisation de <a href="http://www.zamfbrowser.org/">ZamfBrowser</a>, ce service couplé avec une application Adobe AIR permet de travailler facilement avec les services.</p>
<p>Voici à quoi ressemble les prototypes d&#8217;un de mes services.</p>
<div class="codecolorer-container text blackboard" style="overflow:auto;white-space:nowrap;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br /></div></td><td><div class="text codecolorer">class Service_Book<br />
{<br />
&nbsp; &nbsp; public function createBook (Model_DTO_Book $oBook) {}<br />
&nbsp; &nbsp; public function readBook (Model_DTO_Book $oBook) {}<br />
&nbsp; &nbsp; public function updateBook (Model_DTO_Book $oBook) {}<br />
&nbsp; &nbsp; public function deleteBook (Model_DTO_Book $oBook) {}<br />
&nbsp; &nbsp; public function isRentBy (Model_DTO_User $oUser) {}<br />
}</div></td></tr></tbody></table></div>
<blockquote><p>L&#8217;autre service est composé lui aussi des méthodes <strong>CRUD</strong> (Create, Read, Update, Delete), ainsi que d&#8217;autres fonctions métiers.</p></blockquote>
<p>Sachant que mon application cliente Flash utilise ces services, il est très facile à un utilisateur de découvrir <strong>l&#8217;URI de la passerelle AMF</strong>.<br />
En l&#8217;état, une personne ayant l&#8217;accès à ma passerelle AMF pourrai utiliser toutes les fonctions de mes services. Ce qui implique qu&#8217;il puisse modifier ma base de données.</p>
<p><em>Remarquer que si l&#8217;on supprime le service de ZamfBrowser, l&#8217;utilisateur n&#8217;aura pas accès à la liste exhaustive des services. Si vous êtes en production, je vous conseils donc de supprimer ce service pour des raisons de sécurité.</em></p>
<h3>Mise en place de l&#8217;authentification</h3>
<p>Nous allons commencer par mettre en place l&#8217;authentification,<br />
Sachant que nous utilisons un client Flash, il est logique d&#8217;utiliser <strong>Zend_Amf_Adobe_Auth</strong>.</p>
<div class="codecolorer-container text blackboard" style="overflow:auto;white-space:nowrap;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br /></div></td><td><div class="text codecolorer">$authAdapter = new Zend_Amf_Adobe_Auth(APPLICATION_PATH . '/config/password.xml');<br />
$server-&amp;gt;setAuth($authAdapter );</div></td></tr></tbody></table></div>
<p>Avec ces deux lignes, nous avons mis en place l&#8217;authentification au niveau du serveur.<br />
Il vous reste à définir le fichier password.xml</p>
<div class="codecolorer-container text blackboard" style="overflow:auto;white-space:nowrap;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="text codecolorer">&nbsp;</div></td></tr></tbody></table></div>
<p>Le fichier password.xml contient les identifiants et les mots de passe des utilisateurs.<br />
C&#8217;est à ce niveau que vous définissez les affectations d&#8217;identifiants à un rôle.</p>
<p>Si vous avez besoin de plus de souplesse au niveau de la gestion des identifiants, je vous conseils la lecture de <a href="http://framework.zend.com/manual/fr/zend.auth.adapter.dbtable.html">Authentification avec une table de base de données</a>.</p>
<p><em>Il est à noter, que si vous ne spécifier aucun identifiant lors de votre connexion au serveur AMF vous serez considéré comme un invité : <strong>Zend_Amf_Constants::GUEST_ROLE</strong></em></p>
<h3>Mise en place de l&#8217;autorisation</h3>
<p>Maintenant que nous avons correctement définit l&#8217;authentification, passons à l&#8217;autorisation.<br />
C&#8217;est maintenant que nous allons donner les autorisations ou refus d&#8217;accès aux services.</p>
<div class="codecolorer-container text blackboard" style="overflow:auto;white-space:nowrap;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br /></div></td><td><div class="text codecolorer">$acl = new Zend_Acl();<br />
$server-&amp;gt;setAcl($acl);</div></td></tr></tbody></table></div>
<p>Avec ces deux lignes, vous avez définit une <strong>Acces Control List</strong>.<br />
Vous le constatez, aucune autorisation n&#8217;est définit; mais il est important de noter que maintenant, <strong>plus personne n&#8217;a accès à vos services</strong>.</p>
<p>Pour donner l&#8217;accès à nos deux services à n&#8217;importe qui, nous allons procéder comme suit :</p>
<div class="codecolorer-container text blackboard" style="overflow:auto;white-space:nowrap;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br /></div></td><td><div class="text codecolorer">$acl = new Zend_Acl();<br />
$acl-&amp;gt;addResource ( new Zend_Acl_Resource('Service_User') );<br />
$acl-&amp;gt;addResource ( new Zend_Acl_Resource('Service_Book') );<br />
$acl-&amp;gt;addResource ( new Zend_Acl_Resource('ZendAmfServiceBrowser') );<br />
<br />
$acl-&amp;gt;allow (null, 'Service_User');<br />
$acl-&amp;gt;allow (null, 'Service_Book');<br />
$acl-&amp;gt;allow (null, 'ZendAmfServiceBrowser);<br />
$server-&amp;gt;setAcl($acl);</div></td></tr></tbody></table></div>
<p>Ci-dessus, nous avons une liste explicite des autorisations.<br />
Si nous avions voulu faire dans l&#8217;implicite, nous aurions procédé ainsi :</p>
<div class="codecolorer-container text blackboard" style="overflow:auto;white-space:nowrap;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br /></div></td><td><div class="text codecolorer">$acl = new Zend_Acl();<br />
$acl-&amp;gt;allow ();<br />
$server-&amp;gt;setAcl($acl);</div></td></tr></tbody></table></div>
<p>Pour aller plus loin dans l&#8217;explication, nous allons maintenant définir l&#8217;ensemble de nos autorisations.</p>
<blockquote><p>Nous souhaitons que le rôle administrateur est accès à tout, et nous souhaitons que les utilisateurs non authentifiés n&#8217;est pas accès aux fonctions de mise à jour.</p></blockquote>
<p>Rappelez-vous, nous avons vu plus haut que vous étiez connecter avec le rôle invité lorsque vous ne spécifiez aucun identifiant.</p>
<div class="codecolorer-container text blackboard" style="overflow:auto;white-space:nowrap;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br /></div></td><td><div class="text codecolorer">$acl = new Zend_Acl();<br />
<br />
//Définition les rôles.<br />
$acl-&amp;gt;addRole ( new Zend_Acl_Role(Zend_Amf_Constants::GUEST_ROLE) );<br />
<br />
//Définition des autorisations<br />
$acl-&amp;gt;allow ();<br />
$acl-&amp;gt;deny (Zend_Amf_Constants::GUEST_ROLE, null, &quot;create&quot;);<br />
$acl-&amp;gt;deny (Zend_Amf_Constants::GUEST_ROLE, null, &quot;update&quot;);<br />
$acl-&amp;gt;deny (Zend_Amf_Constants::GUEST_ROLE, null, &quot;delete&quot;);<br />
<br />
$server-&amp;gt;setAcl($acl);</div></td></tr></tbody></table></div>
<p><u>Premièrement,</u><br />
Nous avons dû définir le rôle invité pour pouvoir travailler ses autorisations.</p>
<p><u>Deuxièmement,</u><br />
Nous avons utilisé le principe des listes noires. Si nous avions utilisez un système de liste blanche, nous aurions du définir l&#8217;ensemble des rôles, et l&#8217;ensemble des autorisations.<br />
C&#8217;est donc en partant du principe que tout le monde a accès à tout, que nous avons fermé les portes aux anonymes.</p>
<p><u><strong>Explication des fonctions Deny &amp; Allow :</strong></u><br />
<strong>Zend_Acl::deny</strong> et <strong>Zend_Acl::allow</strong> utilisent les mêmes arguments.<br />
Le premier paramètre correspond à un rôle, cela ne change pas des ACL Zend classique.<br />
Le deuxième paramètre correspond à une ressource. Avec Zend AMF, une ressource correspond à un Service.<br />
Le troisième paramètre correspond ici à la fonction d&#8217;un service AMF.</p>
<p>Nous avons utiliser <strong>null</strong> au niveau du deuxième paramètre pour dire : <strong>tout les services</strong>.</p>
<h3>initAcl</h3>
<p>Ce dernier paragraphe pour vous parlez de mon opposition face aux spécifications de la documentation <a href="http://framework.zend.com/manual/1.10/en/zend.amf.server.html">Zend_AMF_Server</a> :</p>
<blockquote><p><em>If the ACL object is set, and the class being called defines initAcl() method, this method will be called with the ACL object as an argument. The class then can create additional ACL rules and return TRUE, or return FALSE if no access control is required for this class.</em></p></blockquote>
<p>En gros, il existe une autre manière de définir les autorisations,<br />
Si vous avez définit un ACL au niveau de votre Serveur AMF. Ce dernier vérifiera l&#8217;existence d&#8217;une fonction <strong>initAcl</strong> sur les services lorsqu&#8217;ils seront appelés.</p>
<p>Cette fonction est ce que l&#8217;on appel un <a href="http://fr.wikipedia.org/wiki/Hook_(informatique)">Hook</a>, et vous permets de définir les autorisations et refus au sein de la définition même de vos services.<br />
Autant vous dire que <strong>niveau maintenance et centralisation de l&#8217;information c&#8217;est très moyen</strong>..<br />
De plus, si l&#8217;on pend l&#8217;exemple de <strong>ZendAmfServiceBrowser</strong>, vous allez devoir modifier la définition de ce service, et cela à chaque fois qu&#8217;il y aura une nouvelle version ?</p>
<p>Voici un exemple de fonctionnement</p>
<div class="codecolorer-container text blackboard" style="overflow:auto;white-space:nowrap;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br /></div></td><td><div class="text codecolorer">class Service_Book<br />
{<br />
&nbsp; &nbsp; public function initAcl ($acl)<br />
&nbsp; &nbsp; {<br />
&nbsp; &nbsp; &nbsp; &nbsp; $acl-&amp;gt;deny('editor', 'Services_Book', 'create');<br />
&nbsp; &nbsp; &nbsp; &nbsp; $acl-&amp;gt;deny('editor', 'Services_Book', 'update');<br />
&nbsp; &nbsp; &nbsp; &nbsp; $acl-&amp;gt;deny('editor', 'Services_Book', 'delete');<br />
&nbsp; &nbsp; &nbsp; &nbsp; return true;<br />
&nbsp; &nbsp; }<br />
}</div></td></tr></tbody></table></div>
<p><strong>Pour aller plus loin</strong> : Vous trouverez un article dédié à l&#8217;authentification pour Zend AMF Server avec une base de données : <a href="../zend-authentication-database/">AMF / Zend Authentication using Database</a></p>
<div class='yarpp-related'>
<br clear="both"><ul class="meta">
<li><a href='../transfer-object-assembler-avec-doctrine-1/' rel='bookmark' title='Transfer Object Assembler avec Doctrine 1'>Transfer Object Assembler avec Doctrine 1</a></li>
<li><a href='../mise-production-zend-framework-serveur-mutualise/' rel='bookmark' title='Mise en production de Zend Framework sur un serveur mutualisé'>Mise en production de Zend Framework sur un serveur mutualisé</a></li>
</ul>
<img src="http://yarpp.org/pixels/5186886a91f0035dc4c4fbc7ca0efb91" alt="YARPP"/>
</div>

				
			</div>
			
			<div class="meta-tags">
				<a href="../tag/amf/" rel="tag">AMF</a><a href="../tag/as3/" rel="tag">AS3</a><a href="../tag/crud/" rel="tag">CRUD</a><a href="../tag/flex/" rel="tag">Flex</a><a href="../tag/securite/" rel="tag">Sécurité</a><a href="../tag/server/" rel="tag">Server</a><a href="../tag/service/" rel="tag">Service</a><a href="../tag/zend-framework/" rel="tag">Zend</a>			</div>
			
		</div>

	
	
	<h3 id="comments">22 Comments</h3>

	<!--<div class="navigation">
		<div class="next-posts"></div>
		<div class="prev-posts"></div>
	</div>-->

	<ol class="comment-list clearfix">
		 
   <li class="comment byuser comment-author-admin bypostauthor even thread-even depth-1" id="li-comment-499">
   <div class="comment-entry clearfix"> 
   		
   		<div class="avatar"><img alt='' src='http://1.gravatar.com/avatar/48858f2bbf40f9b789661ebe8c097cfb?s=34&amp;d=%3Cpath_to_url%3E&amp;r=g' srcset='http://1.gravatar.com/avatar/48858f2bbf40f9b789661ebe8c097cfb?s=68&amp;d=%3Cpath_to_url%3E&amp;r=g 2x' class='avatar avatar-34 photo' height='34' width='34' /></div>
         
         <div class="comment-text">
         
			 <div class="author">
			 	<span><a href='http://www.tourlourat.com/' rel='external nofollow' class='url'>Thomas Tourlourat</a></span>
			 	<div class="date">
			 	05/07/2010 at 10:24</a>			   	·   </div>  
			 </div>
			 
			 <div class="text"><p>Si vous souhaitez aller plus loin sur la sécurité,<br />
Penser à faire de la vérification par IP.</p>
</div>
			 
			 
			 	      	
      	</div>
      
   </div>
</li><!-- #comment-## -->

   <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-500">
   <div class="comment-entry clearfix"> 
   		
   		<div class="avatar"><img alt='' src='http://0.gravatar.com/avatar/3e9f11312fedb780ca24d6c3a4f8409b?s=34&amp;d=%3Cpath_to_url%3E&amp;r=g' srcset='http://0.gravatar.com/avatar/3e9f11312fedb780ca24d6c3a4f8409b?s=68&amp;d=%3Cpath_to_url%3E&amp;r=g 2x' class='avatar avatar-34 photo' height='34' width='34' /></div>
         
         <div class="comment-text">
         
			 <div class="author">
			 	<span><a href='http://www.cablehdmi.net/' rel='external nofollow' class='url'>hdmi</a></span>
			 	<div class="date">
			 	30/07/2010 at 12:05</a>			   	·   </div>  
			 </div>
			 
			 <div class="text"><p>Bravo pour cet article.</p>
</div>
			 
			 
			 	      	
      	</div>
      
   </div>
</li><!-- #comment-## -->

   <li class="comment even thread-even depth-1" id="li-comment-501">
   <div class="comment-entry clearfix"> 
   		
   		<div class="avatar"><img alt='' src='http://2.gravatar.com/avatar/2bb09374effb22f309abced6516da05a?s=34&amp;d=%3Cpath_to_url%3E&amp;r=g' srcset='http://2.gravatar.com/avatar/2bb09374effb22f309abced6516da05a?s=68&amp;d=%3Cpath_to_url%3E&amp;r=g 2x' class='avatar avatar-34 photo' height='34' width='34' /></div>
         
         <div class="comment-text">
         
			 <div class="author">
			 	<span><a href='http://pilotagestage.com/' rel='external nofollow' class='url'>Stage de pilotage</a></span>
			 	<div class="date">
			 	03/09/2010 at 14:59</a>			   	·   </div>  
			 </div>
			 
			 <div class="text"><p>Article trés clair et détaillé, félicitation !</p>
</div>
			 
			 
			 	      	
      	</div>
      
   </div>
</li><!-- #comment-## -->

   <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-502">
   <div class="comment-entry clearfix"> 
   		
   		<div class="avatar"><img alt='' src='http://0.gravatar.com/avatar/9ebcdad86527d1ce724930996ceb6852?s=34&amp;d=%3Cpath_to_url%3E&amp;r=g' srcset='http://0.gravatar.com/avatar/9ebcdad86527d1ce724930996ceb6852?s=68&amp;d=%3Cpath_to_url%3E&amp;r=g 2x' class='avatar avatar-34 photo' height='34' width='34' /></div>
         
         <div class="comment-text">
         
			 <div class="author">
			 	<span><a href='http://www.objectifargent.fr/poker/Winamax.php' rel='external nofollow' class='url'>winamax</a></span>
			 	<div class="date">
			 	03/09/2010 at 16:51</a>			   	·   </div>  
			 </div>
			 
			 <div class="text"><p>Je vais essayer de mettre sa en place sur ma configuration.</p>
</div>
			 
			 
			 	      	
      	</div>
      
   </div>
</li><!-- #comment-## -->

   <li class="comment even thread-even depth-1" id="li-comment-503">
   <div class="comment-entry clearfix"> 
   		
   		<div class="avatar"><img alt='' src='http://0.gravatar.com/avatar/07c302a9f023e6ea21faba5f9b493a79?s=34&amp;d=%3Cpath_to_url%3E&amp;r=g' srcset='http://0.gravatar.com/avatar/07c302a9f023e6ea21faba5f9b493a79?s=68&amp;d=%3Cpath_to_url%3E&amp;r=g 2x' class='avatar avatar-34 photo' height='34' width='34' /></div>
         
         <div class="comment-text">
         
			 <div class="author">
			 	<span><a href='http://www.toulouse-fleuriste.fr/' rel='external nofollow' class='url'>fleuriste toulouse</a></span>
			 	<div class="date">
			 	07/09/2010 at 13:16</a>			   	·   </div>  
			 </div>
			 
			 <div class="text"><p>Oui franchement très bon article !</p>
</div>
			 
			 
			 	      	
      	</div>
      
   </div>
</li><!-- #comment-## -->

   <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-504">
   <div class="comment-entry clearfix"> 
   		
   		<div class="avatar"><img alt='' src='http://2.gravatar.com/avatar/e90eebcc1325dc6d3541f91d45e22b35?s=34&amp;d=%3Cpath_to_url%3E&amp;r=g' srcset='http://2.gravatar.com/avatar/e90eebcc1325dc6d3541f91d45e22b35?s=68&amp;d=%3Cpath_to_url%3E&amp;r=g 2x' class='avatar avatar-34 photo' height='34' width='34' /></div>
         
         <div class="comment-text">
         
			 <div class="author">
			 	<span><a href='http://www.atouferm.com/' rel='external nofollow' class='url'>Porte garage motorisé</a></span>
			 	<div class="date">
			 	22/09/2010 at 11:51</a>			   	·   </div>  
			 </div>
			 
			 <div class="text"><p>Merci pour ce tuto très détaillé.</p>
</div>
			 
			 
			 	      	
      	</div>
      
   </div>
</li><!-- #comment-## -->

   <li class="comment even thread-even depth-1" id="li-comment-505">
   <div class="comment-entry clearfix"> 
   		
   		<div class="avatar"><img alt='' src='http://2.gravatar.com/avatar/8b7012692655f45ac8c336e0bcf7d4a5?s=34&amp;d=%3Cpath_to_url%3E&amp;r=g' srcset='http://2.gravatar.com/avatar/8b7012692655f45ac8c336e0bcf7d4a5?s=68&amp;d=%3Cpath_to_url%3E&amp;r=g 2x' class='avatar avatar-34 photo' height='34' width='34' /></div>
         
         <div class="comment-text">
         
			 <div class="author">
			 	<span><a href='http://www.nazhamane.com/blog/' rel='external nofollow' class='url'>Ismahene</a></span>
			 	<div class="date">
			 	23/09/2010 at 12:14</a>			   	·   </div>  
			 </div>
			 
			 <div class="text"><p>Merci pour ce tuto c’était trés intéressant.<br />
<a href="http://www.nazhamane.com/blog/" rel="nofollow"><br />
13 conseils à utiliser dans votre carrière en tant que concepteur Web</a></p>
</div>
			 
			 
			 	      	
      	</div>
      
   </div>
</li><!-- #comment-## -->

   <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-506">
   <div class="comment-entry clearfix"> 
   		
   		<div class="avatar"><img alt='' src='http://0.gravatar.com/avatar/ff3c86896788687edefbf9ddbba30f2d?s=34&amp;d=%3Cpath_to_url%3E&amp;r=g' srcset='http://0.gravatar.com/avatar/ff3c86896788687edefbf9ddbba30f2d?s=68&amp;d=%3Cpath_to_url%3E&amp;r=g 2x' class='avatar avatar-34 photo' height='34' width='34' /></div>
         
         <div class="comment-text">
         
			 <div class="author">
			 	<span><a href='http://www.artojardin.com/' rel='external nofollow' class='url'>Architecte paysagiste - conception jardin</a></span>
			 	<div class="date">
			 	01/10/2010 at 09:51</a>			   	·   </div>  
			 </div>
			 
			 <div class="text"><p>Ton tuto a l&#8217;air interessant mais c&#8217;est quoi le protocole AMF?</p>
</div>
			 
			 
			 	      	
      	</div>
      
   </div>
</li><!-- #comment-## -->

   <li class="comment even thread-even depth-1" id="li-comment-507">
   <div class="comment-entry clearfix"> 
   		
   		<div class="avatar"><img alt='' src='http://0.gravatar.com/avatar/3a177afd02451751799ac24e20439dff?s=34&amp;d=%3Cpath_to_url%3E&amp;r=g' srcset='http://0.gravatar.com/avatar/3a177afd02451751799ac24e20439dff?s=68&amp;d=%3Cpath_to_url%3E&amp;r=g 2x' class='avatar avatar-34 photo' height='34' width='34' /></div>
         
         <div class="comment-text">
         
			 <div class="author">
			 	<span>kyfr4n</span>
			 	<div class="date">
			 	15/10/2010 at 09:56</a>			   	·   </div>  
			 </div>
			 
			 <div class="text"><p>Très intéressant, mais je ne comprends comment, après l&#8217;authentification, Zend fait pour connaître notre rôle&#8230;</p>
</div>
			 
			 
			 	      	
      	</div>
      
   </div>
</li><!-- #comment-## -->

   <li class="comment byuser comment-author-admin bypostauthor odd alt thread-odd thread-alt depth-1" id="li-comment-508">
   <div class="comment-entry clearfix"> 
   		
   		<div class="avatar"><img alt='' src='http://1.gravatar.com/avatar/48858f2bbf40f9b789661ebe8c097cfb?s=34&amp;d=%3Cpath_to_url%3E&amp;r=g' srcset='http://1.gravatar.com/avatar/48858f2bbf40f9b789661ebe8c097cfb?s=68&amp;d=%3Cpath_to_url%3E&amp;r=g 2x' class='avatar avatar-34 photo' height='34' width='34' /></div>
         
         <div class="comment-text">
         
			 <div class="author">
			 	<span><a href='http://www.tourlourat.com/' rel='external nofollow' class='url'>Thomas Tourlourat</a></span>
			 	<div class="date">
			 	15/10/2010 at 10:02</a>			   	·   </div>  
			 </div>
			 
			 <div class="text"><p>@kyfr4n, pour le coups, il s&#8217;agit d&#8217;un concept Zend : <a href="http://framework.zend.com/manual/fr/zend.acl.html" rel="nofollow">http://framework.zend.com/manual/fr/zend.acl.html</a></p>
</div>
			 
			 
			 	      	
      	</div>
      
   </div>
</li><!-- #comment-## -->

   <li class="comment even thread-even depth-1" id="li-comment-509">
   <div class="comment-entry clearfix"> 
   		
   		<div class="avatar"><img alt='' src='http://0.gravatar.com/avatar/3a177afd02451751799ac24e20439dff?s=34&amp;d=%3Cpath_to_url%3E&amp;r=g' srcset='http://0.gravatar.com/avatar/3a177afd02451751799ac24e20439dff?s=68&amp;d=%3Cpath_to_url%3E&amp;r=g 2x' class='avatar avatar-34 photo' height='34' width='34' /></div>
         
         <div class="comment-text">
         
			 <div class="author">
			 	<span>kyfr4n</span>
			 	<div class="date">
			 	15/10/2010 at 10:27</a>			   	·   </div>  
			 </div>
			 
			 <div class="text"><p>Merci Thomas pour ta réponse rapide <img src="../wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p>Mais ça fait 10 heures que je fais des recherches et je n&#8217;arrive pas concrètement à l&#8217;implémenter. Est-ce que je dois, au début de chaque fonction de chaque service mettre une fonction :</p>
<p> if ($acl-&gt;isAllowed(roleDeLUtilisateurCourant, monService, maFonction)</p>
<p>Et si c&#8217;est le cas comment connaître le rôle de l&#8217;utilisateur connecté ?</p>
<p>Désolé je suis novice avec Zend et mes recherches m&#8217;amènent beaucoup de confusion&#8230;</p>
</div>
			 
			 
			 	      	
      	</div>
      
   </div>
</li><!-- #comment-## -->

   <li class="comment byuser comment-author-admin bypostauthor odd alt thread-odd thread-alt depth-1" id="li-comment-510">
   <div class="comment-entry clearfix"> 
   		
   		<div class="avatar"><img alt='' src='http://1.gravatar.com/avatar/48858f2bbf40f9b789661ebe8c097cfb?s=34&amp;d=%3Cpath_to_url%3E&amp;r=g' srcset='http://1.gravatar.com/avatar/48858f2bbf40f9b789661ebe8c097cfb?s=68&amp;d=%3Cpath_to_url%3E&amp;r=g 2x' class='avatar avatar-34 photo' height='34' width='34' /></div>
         
         <div class="comment-text">
         
			 <div class="author">
			 	<span><a href='http://www.tourlourat.com/' rel='external nofollow' class='url'>Thomas Tourlourat</a></span>
			 	<div class="date">
			 	15/10/2010 at 12:37</a>			   	·   </div>  
			 </div>
			 
			 <div class="text"><p>Personnellement je définis mes ACL dans le Bootstrap via : </p>
<pre>
$acl = new Zend_Acl();
 
//Définition les rôles.
$acl-&gt;addRole ( new Zend_Acl_Role(Zend_Amf_Constants::GUEST_ROLE) );
 
//Définition des autorisations
$acl-&gt;allow ();
$acl-&gt;deny (Zend_Amf_Constants::GUEST_ROLE, null, "create");
$acl-&gt;deny (Zend_Amf_Constants::GUEST_ROLE, null, "update");
$acl-&gt;deny (Zend_Amf_Constants::GUEST_ROLE, null, "delete");
 
$server-&gt;setAcl($acl);
</pre>
<p>Le rôle de l&#8217;utilisateur correspondra au rôle que tu as spécifié dans le fichier XML. Dans mon exemple il n&#8217;y a que &#8220;editor&#8221;.</p>
<p>Est-ce que cela te convient ?<br />
La compréhension de Zend n&#8217;est pas simple du tout&#8230; Mais force et courage seront t&#8217;accompagner 😉</p>
</div>
			 
			 
			 	      	
      	</div>
      
   </div>
</li><!-- #comment-## -->

   <li class="comment even thread-even depth-1" id="li-comment-511">
   <div class="comment-entry clearfix"> 
   		
   		<div class="avatar"><img alt='' src='http://0.gravatar.com/avatar/fa8f6d3fb05928952853df65c1024506?s=34&amp;d=%3Cpath_to_url%3E&amp;r=g' srcset='http://0.gravatar.com/avatar/fa8f6d3fb05928952853df65c1024506?s=68&amp;d=%3Cpath_to_url%3E&amp;r=g 2x' class='avatar avatar-34 photo' height='34' width='34' /></div>
         
         <div class="comment-text">
         
			 <div class="author">
			 	<span>ZendAdept</span>
			 	<div class="date">
			 	18/10/2010 at 23:11</a>			   	·   </div>  
			 </div>
			 
			 <div class="text"><p>Bonjour et franchement merci pour cet article !</p>
<p>par contre j&#8217;ai un soucis concernant une application Flex multi-bases. Comment puis je définir mon setAuth($auth) avec un adapter Zend_Auth_Adapter_DbTable dans mon serveur amf sachant que le nom de ma base à exploiter me parvient dans une méthode de classe ?</p>
<p>Existe t-il un moyen de catcher sur le serveur la méthode appelée et ses arguments afin d&#8217;en extraire le nom de la base et ainsi d&#8217;établir mon authentification sur le serveur ?</p>
<p>un grand merci</p>
</div>
			 
			 
			 	      	
      	</div>
      
   </div>
</li><!-- #comment-## -->

   <li class="comment byuser comment-author-admin bypostauthor odd alt thread-odd thread-alt depth-1" id="li-comment-512">
   <div class="comment-entry clearfix"> 
   		
   		<div class="avatar"><img alt='' src='http://1.gravatar.com/avatar/48858f2bbf40f9b789661ebe8c097cfb?s=34&amp;d=%3Cpath_to_url%3E&amp;r=g' srcset='http://1.gravatar.com/avatar/48858f2bbf40f9b789661ebe8c097cfb?s=68&amp;d=%3Cpath_to_url%3E&amp;r=g 2x' class='avatar avatar-34 photo' height='34' width='34' /></div>
         
         <div class="comment-text">
         
			 <div class="author">
			 	<span><a href='http://www.tourlourat.com/' rel='external nofollow' class='url'>Thomas Tourlourat</a></span>
			 	<div class="date">
			 	19/10/2010 at 09:54</a>			   	·   </div>  
			 </div>
			 
			 <div class="text"><p>Bonjour ZendAdept,<br />
Il est bien-sur possible de faire ce que tu souhaite. Cela n&#8217;a pas été mis en avant dans l&#8217;article, car il s&#8217;agit d&#8217;une fonctionnalité spécifique à l&#8217;authentification Zend.</p>
<p>Personnellement, j&#8217;ai poussé le bouchon jusqu&#8217;à utiliser mes Service au sein de ma classe d&#8217;authentification.<br />
Sachant que tu risque d&#8217;être intéressé par cette classe, je vais mettre en ligne le code dans un prochain article.</p>
</div>
			 
			 
			 	      	
      	</div>
      
   </div>
</li><!-- #comment-## -->

   <li class="comment even thread-even depth-1" id="li-comment-514">
   <div class="comment-entry clearfix"> 
   		
   		<div class="avatar"><img alt='' src='http://0.gravatar.com/avatar/fa8f6d3fb05928952853df65c1024506?s=34&amp;d=%3Cpath_to_url%3E&amp;r=g' srcset='http://0.gravatar.com/avatar/fa8f6d3fb05928952853df65c1024506?s=68&amp;d=%3Cpath_to_url%3E&amp;r=g 2x' class='avatar avatar-34 photo' height='34' width='34' /></div>
         
         <div class="comment-text">
         
			 <div class="author">
			 	<span>ZendAdept</span>
			 	<div class="date">
			 	19/10/2010 at 11:12</a>			   	·   </div>  
			 </div>
			 
			 <div class="text"><p>Un grand merci Thomas</p>
<p>je m&#8217;en vais étudier de ce pas ce billet <img src="../wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
</div>
			 
			 
			 	      	
      	</div>
      
   </div>
</li><!-- #comment-## -->

   <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-515">
   <div class="comment-entry clearfix"> 
   		
   		<div class="avatar"><img alt='' src='http://0.gravatar.com/avatar/fa8f6d3fb05928952853df65c1024506?s=34&amp;d=%3Cpath_to_url%3E&amp;r=g' srcset='http://0.gravatar.com/avatar/fa8f6d3fb05928952853df65c1024506?s=68&amp;d=%3Cpath_to_url%3E&amp;r=g 2x' class='avatar avatar-34 photo' height='34' width='34' /></div>
         
         <div class="comment-text">
         
			 <div class="author">
			 	<span>ZendAdept</span>
			 	<div class="date">
			 	21/10/2010 at 17:16</a>			   	·   </div>  
			 </div>
			 
			 <div class="text"><p>Bonjour,</p>
<p>je me prends toujours la tête avec mon système d&#8217;authentification ^^<br />
Comme je voyais que ca ne marchais pas en utilisant une classe perso, j&#8217;ai codé en dur sur le serveur pour faire un test et j&#8217;obtiens une erreur. Voici mon code :</p>
<pre>
require_once 'Zend/Db/Adapter/Pdo/Mysql.php';
	require_once 'Zend/Auth/Adapter/DbTable.php';
	
	$dbAdapter = new Zend_Db_Adapter_Pdo_Mysql(array(
	    	'host'     =&gt; 'localhost',
	        'username' =&gt; 'root',
	        'password' =&gt; '',
	        'dbname'   =&gt; 'xxx'
	       ));
	$dbAdapter-&gt;getConnection();			
	$authAdapter = new Zend_Auth_Adapter_DbTable(	$dbAdapter,
			                                            'users',
			                                            'username',
			                                            'password');			
				
				
				
				
	$server = new Zend_Amf_Server();
	$server-&gt;setAuth($authAdapter);
</pre>
<p>Et là ca marche pas&#8230;Mes 2 adapters semblent corrects car quand je les modifient en commentant setAuth() j&#8217;ai une erreur et sans les modifier ca marche. C&#8217;est donc bien la ligne setAuth() qui pose problème mais pour le coup je vois vraiment pas la différence avec ton exemple si ce n&#8217;est le type d&#8217;adapter qui pour moi est un dBTable.</p>
<p>Damned !</p>
</div>
			 
			 
			 	      	
      	</div>
      
   </div>
</li><!-- #comment-## -->

   <li class="comment even thread-even depth-1" id="li-comment-516">
   <div class="comment-entry clearfix"> 
   		
   		<div class="avatar"><img alt='' src='http://1.gravatar.com/avatar/16855d082ce191eb0abd9a72d7614d47?s=34&amp;d=%3Cpath_to_url%3E&amp;r=g' srcset='http://1.gravatar.com/avatar/16855d082ce191eb0abd9a72d7614d47?s=68&amp;d=%3Cpath_to_url%3E&amp;r=g 2x' class='avatar avatar-34 photo' height='34' width='34' /></div>
         
         <div class="comment-text">
         
			 <div class="author">
			 	<span><a href='../' rel='external nofollow' class='url'>Thomas Tourlourat</a></span>
			 	<div class="date">
			 	21/10/2010 at 17:23</a>			   	·   </div>  
			 </div>
			 
			 <div class="text"><p>@ZendAdept, il va falloir prendre un peu d&#8217;autonomie sur ton projet..<br />
Pour ton problème, la fonction <strong>Zend_Amf_Server::setAuth ()</strong> prend un objet de type <strong>Zend_Amf_Auth_Abstract</strong>. Or, <strong>Zend_Auth_Adapter_DbTable</strong> n&#8217;hérite pas de ce type.<br />
Le message d&#8217;erreur devait surement te le dire.</p>
<p>De mon coté, j&#8217;ai du passer plusieurs jours avant d&#8217;aboutir à quelque chose qui fonctionne et que je maitrise.<br />
C&#8217;est pour que les autres gagnent du temps que j&#8217;ai réalisé ces articles.</p>
<p>Bon courage, car je sais que cela n&#8217;est pas évident.</p>
</div>
			 
			 
			 	      	
      	</div>
      
   </div>
</li><!-- #comment-## -->

   <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-517">
   <div class="comment-entry clearfix"> 
   		
   		<div class="avatar"><img alt='' src='http://0.gravatar.com/avatar/fa8f6d3fb05928952853df65c1024506?s=34&amp;d=%3Cpath_to_url%3E&amp;r=g' srcset='http://0.gravatar.com/avatar/fa8f6d3fb05928952853df65c1024506?s=68&amp;d=%3Cpath_to_url%3E&amp;r=g 2x' class='avatar avatar-34 photo' height='34' width='34' /></div>
         
         <div class="comment-text">
         
			 <div class="author">
			 	<span>ZendAdept</span>
			 	<div class="date">
			 	21/10/2010 at 17:45</a>			   	·   </div>  
			 </div>
			 
			 <div class="text"><p>Justement en fait un des problèmes majeurs c&#8217;est que je sais pas comment voir l&#8217;erreur retournée par AMF en détails. Exemple ici je voyais dans le retour de mon appli Flex: &#8220;échec de l&#8217;envoi&#8221; c&#8217;est pas très parlant&#8230;</p>
<p>En grand merci en tout cas et c&#8217;est vrai j&#8217;aurais du regarder le proto 😉</p>
</div>
			 
			 
			 	      	
      	</div>
      
   </div>
</li><!-- #comment-## -->

   <li class="comment byuser comment-author-admin bypostauthor even thread-even depth-1" id="li-comment-518">
   <div class="comment-entry clearfix"> 
   		
   		<div class="avatar"><img alt='' src='http://1.gravatar.com/avatar/48858f2bbf40f9b789661ebe8c097cfb?s=34&amp;d=%3Cpath_to_url%3E&amp;r=g' srcset='http://1.gravatar.com/avatar/48858f2bbf40f9b789661ebe8c097cfb?s=68&amp;d=%3Cpath_to_url%3E&amp;r=g 2x' class='avatar avatar-34 photo' height='34' width='34' /></div>
         
         <div class="comment-text">
         
			 <div class="author">
			 	<span><a href='http://www.tourlourat.com/' rel='external nofollow' class='url'>Thomas Tourlourat</a></span>
			 	<div class="date">
			 	21/10/2010 at 17:49</a>			   	·   </div>  
			 </div>
			 
			 <div class="text"><p>Accède avec ton navigateur à l&#8217;URL du endpoint AMF, si tu télécharge un fichier binaire, c&#8217;est bon signe.</p>
<p>S&#8217;il s&#8217;agit uniquement de Warning, l&#8217;exécution ne plantera pas, dans ce cas, supprime la ligne dans ton code &#8220;echo ($server-&gt;handle());&#8221; et fait un refresh.</p>
</div>
			 
			 
			 	      	
      	</div>
      
   </div>
</li><!-- #comment-## -->

   <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-519">
   <div class="comment-entry clearfix"> 
   		
   		<div class="avatar"><img alt='' src='http://0.gravatar.com/avatar/fa8f6d3fb05928952853df65c1024506?s=34&amp;d=%3Cpath_to_url%3E&amp;r=g' srcset='http://0.gravatar.com/avatar/fa8f6d3fb05928952853df65c1024506?s=68&amp;d=%3Cpath_to_url%3E&amp;r=g 2x' class='avatar avatar-34 photo' height='34' width='34' /></div>
         
         <div class="comment-text">
         
			 <div class="author">
			 	<span>ZendAdept</span>
			 	<div class="date">
			 	21/10/2010 at 17:58</a>			   	·   </div>  
			 </div>
			 
			 <div class="text"><p>&#8220;Catchable fatal error: Argument 1 passed to Zend_Amf_Server::setAuth() must be an instance of Zend_Amf_Auth_Abstract, instance of Zend_Auth_Adapter_DbTable given&#8230;..&#8221;  <img src="../wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p>Un grand merci ca va aussi beaucoup me servir de savoir comment voir les erreurs directement en php. C&#8217;est tout c** mais bien utile <img src="../wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p>Une combine pour voir les erreurs des services sinon ? Là si je ne m&#8217;abuse ca affichera que les erreurs php situées uniquement sur le fichier serveur ?</p>
</div>
			 
			 
			 	      	
      	</div>
      
   </div>
</li><!-- #comment-## -->

   <li class="comment even thread-even depth-1" id="li-comment-520">
   <div class="comment-entry clearfix"> 
   		
   		<div class="avatar"><img alt='' src='http://1.gravatar.com/avatar/16855d082ce191eb0abd9a72d7614d47?s=34&amp;d=%3Cpath_to_url%3E&amp;r=g' srcset='http://1.gravatar.com/avatar/16855d082ce191eb0abd9a72d7614d47?s=68&amp;d=%3Cpath_to_url%3E&amp;r=g 2x' class='avatar avatar-34 photo' height='34' width='34' /></div>
         
         <div class="comment-text">
         
			 <div class="author">
			 	<span><a href='../' rel='external nofollow' class='url'>Thomas Tourlourat</a></span>
			 	<div class="date">
			 	21/10/2010 at 18:12</a>			   	·   </div>  
			 </div>
			 
			 <div class="text"><p>Tu n&#8217;oubliera pas que l&#8217;on est pas sur IRC, ou un Forum 😉<br />
Lorsque ta communication entre Flash &amp; AMF sera opérationnelle, tu pourra récupérer le message des exceptions, mais rien d&#8217;userfriendly.</p>
</div>
			 
			 
			 	      	
      	</div>
      
   </div>
</li><!-- #comment-## -->
	</ol>

	<div class="navigation">
		<div class="next-posts"></div>
		<div class="prev-posts"></div>
	</div>
	
 

		
	</div>
	
	<div id="sidebar" class="sidebar-right">
		<div id="text-7" class="widget widget_text">			<div class="textwidget"><div style="text-align: center">
I'm CEO - <a href="http://wozbe.com/">@Wozbe</a><br />
<a href="http://wozbe.com/"><img width="100" height="100" src="http://wozbe.com/bundles/app/images/logo-wozbe-letter.png" /></a>
</div></div>
		</div><div id="text-10" class="widget widget_text">			<div class="textwidget"><div style="text-align: center">
Expert at <a href="http://1cupexpert.com/">1Cup.io</a><br />
<a href="http://1cupexpert.com/"><img width="160" height="99" src="http://hosting.armetiz.info/armetiz/files/2014/10/1cupexpert.png" /></a>
</div></div>
		</div><div id="text-9" class="widget widget_text">			<div class="textwidget"><div style="text-align: center">
Team member of<br />
<a href="http://thebigbrainscompany.com/"><img width="160" height="160" src="https://0.gravatar.com/avatar/0864eef93c9c491ce6039181f6b14371?r=x&amp;s=160" /></a>
</div></div>
		</div><div id="search-2" class="widget widget_search"><form method="get" id="searchform" action="http://www.armetiz.info/">
	<fieldset>
		<input type="text" name="s" id="s" value="To search type and hit enter" onfocus="if(this.value=='To search type and hit enter')this.value='';" onblur="if(this.value=='')this.value='To search type and hit enter';" />
	</fieldset>
</form></div><div id="text-3" class="widget widget_text">			<div class="textwidget"><script type="text/javascript"><!--
google_ad_client = "ca-pub-9960742798574490";
/* 215x300 */
google_ad_slot = "9982555711";
google_ad_width = 200;
google_ad_height = 200;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div>
		</div><div id="text-8" class="widget widget_text"><h2>@armetiz</h2>			<div class="textwidget"><a class="twitter-timeline" href="https://twitter.com/armetiz" data-widget-id="362113985643962369">Tweets by @armetiz</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</div>
		</div><div id="staticrandomposts-2" class="widget widget_staticrandomposts"><h2>Random Posts</h2><ul class='static-random-posts' id='static-random-posts-2'><li><a href='../apolline-leon-la-sorciere-des-tuileries/' title='Apolline &amp; Léon, la sorcière des Tuileries'>Apolline &amp; Léon, la sorcière des Tuileries</a></li>
<li><a href='../iphone-camera-espace/' title='Filmer l&#039;espace avec un iPhone et quelques ficelles'>Filmer l&#039;espace avec un iPhone et quelques ficelles</a></li>
<li><a href='../fresque-chronologique-20/' title='Fresque chronologique'>Fresque chronologique</a></li>
<li><a href='../as3-redimensionner-swf-charger/' title='AS3 - Redimensionner un SWF chargé'>AS3 - Redimensionner un SWF chargé</a></li>
<li><a href='../migration-1and1-vers-abergement/' title='Migration 1and1 vers Abergement'>Migration 1and1 vers Abergement</a></li>
</ul><br /><a href='../wp-admin/admin-ajax83c1.html?action=refreshstatic&amp;number=2&amp;name=widget_staticrandomposts&amp;_wpnonce=b5d6c894d0' class='static-refresh'>Refresh...</a></div><div id="tag_cloud-2" class="widget widget_tag_cloud"><h2>Tags</h2><div class="tagcloud"><a href='../tag/actionscript/' class='tag-link-62' title='9 topics' style='font-size: 12.529411764706pt;'>ActionScript</a>
<a href='../tag/adobe/' class='tag-link-65' title='18 topics' style='font-size: 18.294117647059pt;'>Adobe</a>
<a href='../tag/air/' class='tag-link-34' title='8 topics' style='font-size: 11.5pt;'>AIR</a>
<a href='../tag/android-systeme/' class='tag-link-35' title='5 topics' style='font-size: 8pt;'>Android</a>
<a href='../tag/animation/' class='tag-link-79' title='5 topics' style='font-size: 8pt;'>Animation</a>
<a href='../tag/apache/' class='tag-link-82' title='6 topics' style='font-size: 9.4411764705882pt;'>Apache</a>
<a href='../tag/application/' class='tag-link-88' title='6 topics' style='font-size: 9.4411764705882pt;'>Application</a>
<a href='../tag/astuce/' class='tag-link-95' title='8 topics' style='font-size: 11.5pt;'>Astuce</a>
<a href='../tag/centos/' class='tag-link-131' title='10 topics' style='font-size: 13.352941176471pt;'>CentOS</a>
<a href='../tag/compilation/' class='tag-link-154' title='9 topics' style='font-size: 12.529411764706pt;'>Compilation</a>
<a href='../tag/configuration/' class='tag-link-163' title='5 topics' style='font-size: 8pt;'>Configuration</a>
<a href='../tag/conseils/' class='tag-link-165' title='6 topics' style='font-size: 9.4411764705882pt;'>Conseils</a>
<a href='../tag/debian/' class='tag-link-188' title='10 topics' style='font-size: 13.352941176471pt;'>Debian</a>
<a href='../tag/dns/' class='tag-link-212' title='5 topics' style='font-size: 8pt;'>DNS</a>
<a href='../tag/drupal/' class='tag-link-8' title='5 topics' style='font-size: 8pt;'>Drupal</a>
<a href='../tag/developpement/' class='tag-link-201' title='8 topics' style='font-size: 11.5pt;'>Développement</a>
<a href='../tag/elearning/' class='tag-link-9' title='9 topics' style='font-size: 12.529411764706pt;'>Elearning</a>
<a href='../tag/entrepreneur/' class='tag-link-238' title='5 topics' style='font-size: 8pt;'>Entrepreneur</a>
<a href='../tag/liens-flash/' class='tag-link-42' title='28 topics' style='font-size: 22pt;'>Flash</a>
<a href='../tag/flex/' class='tag-link-43' title='10 topics' style='font-size: 13.352941176471pt;'>Flex</a>
<a href='../tag/formation/' class='tag-link-272' title='7 topics' style='font-size: 10.470588235294pt;'>Formation</a>
<a href='../tag/framework/' class='tag-link-10' title='11 topics' style='font-size: 14.176470588235pt;'>Framework</a>
<a href='../tag/google/' class='tag-link-289' title='14 topics' style='font-size: 16.235294117647pt;'>google</a>
<a href='../tag/http/' class='tag-link-308' title='8 topics' style='font-size: 11.5pt;'>HTTP</a>
<a href='../tag/installation/' class='tag-link-335' title='5 topics' style='font-size: 8pt;'>Installation</a>
<a href='../tag/iphone/' class='tag-link-350' title='6 topics' style='font-size: 9.4411764705882pt;'>iPhone</a>
<a href='../tag/javascript/' class='tag-link-44' title='7 topics' style='font-size: 10.470588235294pt;'>Javascript</a>
<a href='../tag/konbini-vie-professionnelle/' class='tag-link-45' title='5 topics' style='font-size: 8pt;'>Konbini</a>
<a href='../tag/libre/' class='tag-link-377' title='13 topics' style='font-size: 15.617647058824pt;'>Libre</a>
<a href='../tag/linux-systeme/' class='tag-link-46' title='17 topics' style='font-size: 17.882352941176pt;'>Linux</a>
<a href='../tag/livre/' class='tag-link-385' title='11 topics' style='font-size: 14.176470588235pt;'>Livre</a>
<a href='../tag/lyon/' class='tag-link-393' title='9 topics' style='font-size: 12.529411764706pt;'>Lyon</a>
<a href='../tag/musique/' class='tag-link-17' title='5 topics' style='font-size: 8pt;'>Musique</a>
<a href='../tag/mysql/' class='tag-link-427' title='5 topics' style='font-size: 8pt;'>MySQL</a>
<a href='../tag/nodejs/' class='tag-link-438' title='8 topics' style='font-size: 11.5pt;'>NodeJS</a>
<a href='../tag/php-programmation/' class='tag-link-49' title='9 topics' style='font-size: 12.529411764706pt;'>PHP</a>
<a href='../tag/probleme/' class='tag-link-496' title='6 topics' style='font-size: 9.4411764705882pt;'>Problème</a>
<a href='../tag/programmation/' class='tag-link-19' title='7 topics' style='font-size: 10.470588235294pt;'>Programmation</a>
<a href='../tag/projet/' class='tag-link-500' title='9 topics' style='font-size: 12.529411764706pt;'>Projet</a>
<a href='../tag/serveur/' class='tag-link-553' title='18 topics' style='font-size: 18.294117647059pt;'>Serveur</a>
<a href='../tag/systeme/' class='tag-link-26' title='7 topics' style='font-size: 10.470588235294pt;'>Système</a>
<a href='../tag/securite/' class='tag-link-22' title='14 topics' style='font-size: 16.235294117647pt;'>Sécurité</a>
<a href='../tag/video/' class='tag-link-28' title='25 topics' style='font-size: 20.970588235294pt;'>Video</a>
<a href='../tag/web/' class='tag-link-30' title='6 topics' style='font-size: 9.4411764705882pt;'>Web</a>
<a href='../tag/windows/' class='tag-link-31' title='9 topics' style='font-size: 12.529411764706pt;'>Windows</a></div>
</div>	</div>

</div>


<div id="footerwrap">		
		<div id="breadcrumb">
			<a href="../">Armetiz</a><a href="../category/programmation/liens-flash/" rel="category tag">Flash</a> <a href="../category/framework/zend-framework/" rel="category tag">Zend</a>Authentification et Autorisation avec Zend AMF		</div>
		
		
								<div id="lasttweet">
				<div id="status"></div>
			</div>
							
		
		<div id="footer" class="clearfix">
			
			<div id="text-4" class="widget widget_text col-4"><h2>Informations</h2>			<div class="textwidget">Thomas Tourlourat<br />
Lyon, France<br />
<br />
Téléphone: <a href="tel:+33626525698">+33 6 26 52 56 98</a><br />
Email: <a href="mailto:thomas@tourlourat.com">thomas@tourlourat.com</a><br />
<br />
Consultant IT  @<a href="http://wozbe.com/">wozbe.com</a><br />
<br />
<div style="text-align: center">
<a href="http://wozbe.com/"><img width="100" height="100" src="http://wozbe.com/bundles/app/images/logo-wozbe-letter.png" /></a>
</div></div>
		</div><div id="linkcat-657" class="widget widget_links col-4"><h2>Social Network</h2>
	<ul class='xoxo blogroll'>
<li><a href="http://www.amazon.fr/registry/wishlist/2EUSMIX86RN1F" target="_blank">Amazon Whislist</a></li>
<li><a href="http://www.deezer.com/fr/profile/1674910" rel="me" target="_blank">Deezer</a></li>
<li><a href="http://delicious.com/Armetiz" rel="me" target="_blank">Delicious</a></li>
<li><a href="https://github.com/armetiz" rel="me" target="_blank">Github</a></li>
<li><a href="http://www.linkedin.com/in/tourlourat" rel="me">LinkedIn</a></li>
<li><a href="http://www.netvibes.com/thomastourlourat" rel="me">Netvibes</a></li>
<li><a href="http://twitter.com/armetiz" rel="me" target="_blank">Twitter</a></li>
<li><a href="http://fr.viadeo.com/fr/profile/thomas.tourlourat" rel="me" target="_blank">Viadeo</a></li>

	</ul>
</div>
<div id="recent-comments-3" class="widget widget_recent_comments col-4"><h2>Commentaires</h2><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link"><a href='http://www.poulailler.org/' rel='external nofollow' class='url'>Paul Edmond</a></span> on <a href="../semaine-de-revision-atpl-iaag/#comment-1152">Semaine de révision ATPL à l&#8217;IAAG</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://philippesimard.ca/' rel='external nofollow' class='url'>philippe</a></span> on <a href="../iframe-responsive-design/#comment-1148">iFrame &#038; Responsive Design</a></li><li class="recentcomments"><span class="comment-author-link">sam</span> on <a href="../windows-7-pas-acces-internet/#comment-1112">Windows 7 &#8211; Pas d&#8217;accès Internet</a></li><li class="recentcomments"><span class="comment-author-link">Cedrick Oka</span> on <a href="../node-js-mise-production-simple/#comment-1080">NodeJS &#8211; Mise en production</a></li><li class="recentcomments"><span class="comment-author-link">fab</span> on <a href="../desactiver-wifi-freebox-sdk/#comment-1063">Désactiver le WiFi de la Freebox à certaines heures</a></li></ul></div><div id="text-6" class="widget widget_text col-4"><h2>Products</h2>			<div class="textwidget"><ul>
<li><a href="http://wozbe.com/">Consulting</a></li>
<li><a href="http://anowis-formations.com/">Formations</a></li>
<li><a href="http://lextend.com/">Lextend - Avocats</a></li>
<li><a href="http://1cupexpert.com/">1CupExpert</a></li>
</ul>
<br />
<br />
<h2>Thèmes</h2>
<ul>
<li>Haut Disponibilité</li>
<li>Performance</li>
<li>Temps réel</li>
</ul></div>
		</div>			
		</div>
		<div id="copyright">
			&copy; Copyright 2015 Armetiz / WordPress Theme by <a href="http://hellominti.com/">minti</a>
			<div id="back-to-top">
				<a href="#wrap"><img src="../wp-content/themes/elogix/framework/images/top.png" alt="top" width="18" height="16" /></a>
			</div>
		</div>
		

</div>

</div>
	
	<link rel='stylesheet' id='prettyphoto_css-css'  href='../wp-content/themes/elogix/framework/js/prettyPhoto/css/prettyPhoto3a05.css?ver=4.2.2' type='text/css' media='all' />
<script type='text/javascript' src='../wp-content/themes/elogix/framework/js/jquery.easing5152.js?ver=1.0'></script>
<script type='text/javascript' src='../wp-content/themes/elogix/framework/js/selectivizr5152.js?ver=1.0'></script>
<script type='text/javascript' src='../wp-content/themes/elogix/framework/js/mediaqueries5152.js?ver=1.0'></script>
<script type='text/javascript' src='../wp-content/themes/elogix/framework/js/superfish5152.js?ver=1.0'></script>
<script type='text/javascript' src='../wp-content/themes/elogix/framework/js/jquery.mobilemenu5152.js?ver=1.0'></script>
<script type='text/javascript' src='../wp-content/themes/elogix/framework/js/jquery.prettyPhoto5152.js?ver=1.0'></script>
<script type='text/javascript' src='../wp-content/themes/elogix/framework/js/scripts5152.js?ver=1.0'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var wpAjax = {"noPerm":"You do not have permission to do that.","broken":"An unidentified error has occurred."};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-includes/js/wp-ajax-response.min3a05.js?ver=4.2.2'></script>
	
    <script>
	   
	   $(document).ready(function() {
  
		    // set your twitter id
		    		    var user = 'armetiz';
		      
		    // using jquery built in get json method with twitter api, return only one result
		    $.getJSON('http://api.twitter.com/1/statuses/user_timeline/' + user + '.json?count=2&callback=?', function(data)      {
		          
		        // result returned
		        var tweet = data[0].text;
		      
		        // process links and reply
		        tweet = tweet.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig, function(url) {
		            return '<a href="'+url+'" target="_blank">'+url+'</a>';
		        }).replace(/B@([_a-z0-9]+)/ig, function(reply) {
		            return  reply.charAt(0)+'<a href="http://twitter.com/%27+reply.substring%281%29+%27">'+reply.substring(1)+'</a>';
		        });
		      
		        // output the result
		        $("#lasttweet").html(tweet);
		    });
		      
		});
	    
    </script>
	
	<script>

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-3801711-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>	
</body>


<!-- Mirrored from www.armetiz.info/authentification-autorisation-zend-amf/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 01 Jul 2015 09:09:09 GMT -->
</html>

<!-- Performance optimized by W3 Total Cache. Learn more: http://www.w3-edge.com/wordpress-plugins/

Page Caching using apc
Database Caching 14/28 queries in 0.008 seconds using apc
Object Caching 1978/2015 objects using apc

 Served from: www.armetiz.info @ 2015-07-01 11:07:56 by W3 Total Cache -->
